# AWS
## AWSとは
[参考リンク](https://www.stylez.co.jp/aws_columns/learn-the-basics-of-aws/what_is_aws/#AWS-3)
`Amazon Web Service`の略称  
クラウドコンピューティングを使ったサービス。サーバーやデータベースなどのリソースをインターネット経由で使用することができる　　

クラウドコンピューティグには「プライベートクラウド」と「パブリッククラウド」が存在する

* プライベートクラウドの特徴
自社のみ利用できるクラウドサービスを整備、構築して利用する形態　　
利用者は自社のみなので、自社の業務に応じた独自のクラウド環境を作れる！→**カスタマイズ性が高い！**  
一方で自社でサーバなどのハードウェア類や、サーバを配置するデータセンターなどを個別に契約する必要がある。また、データセンターやハードウェア類の設置、構築、運用保守と言った対応も自社で行う必要がある。　　
そのため構築や運用におけるコストが高くなってしまい、サーバー等の柔軟な追加や廃棄が難しいといったデメリットもある。　　

* パブリッククラウドの特徴
一般のユーザー及び企業が、AmazonやGoogleが用意したクラウド環境を共有して使うことができるサービス。　　
他社との共有環境であるため、自社の業務や要件に完全にマッチしない場合があったり、ハードウェアの故障といったトラブル発生時にクラウド運営会社の対応を待つしかないといったデメリットがある。　　
一方で、クラウド環境の構築に不可欠なサーバーやストレージ、ネットワーク機器といった機械類の購入やデータセンターとの契約といった対応が不要で、簡単に導入できるため、初期コストやデリバリのスピード面で優れているといったメリットがある。　　

### オンプレミス（物理）サーバーとの違い
パブリッククラウド環境とオンプレミス環境はどのような違いがあるのでしょうか。
オンプレミス（物理サーバ）は、自社でサーバの設置、設計、構築、保守・運用を行いながら、オンプレミス上に構築したアプリケーションの構築、保守・運用を行っていく必要があります。つまり、アプリケーションとサーバの両方を運用・保守する必要があります。また、オンプレミスはCPUやメモリの追加といったリソースの増強作業は非常に手間と時間がかかります。

パブリッククラウド環境であれば、先述のように機械の設置から運用保守はクラウド提供者が行いますし、CPUやメモリといったリソースの変更もワンクリックで容易に実施することができます。
||プライベートクラウド<br>(オンプレミス型)|パブリッククラウド|
|:----:|:----|:----|
|導入スピード|△　自力で環境構築する必要がある|◎　即時導入が可能|
|導入コスト|△　初期費用が高い|◎　インフラには初期費用がかからない|
|運用リソース|△　運用・管理を自社で行う必要がある|◎　クラウド事業者が行う|
|セキュリティ|◎　独自のセキュリティ要件を満たせる|◯　クラウド事業者に従うがアドオンのセキュリティ設定も可能|
|柔軟性|◯　自社の要件を自由に盛り込める|◎　インフラリソースを柔軟かつ即時適用できる|


## AWSが選ばれる10の理由
[参考リンク](https://aws.amazon.com/jp/aws-ten-reasons/)
### 初期費用0/低価格
* 初期費用無料
従来、新しいインフラ構築には緻密な要件定義からハードウェアの調達、設置、デプロイなど様々な高い初期費用が必要だった。　　
**AWSでは初期費用無しでビジネスニーズの発生とともに柔軟なITリソースを確保することが可能**
* 従量課金
利用料に応じた従量課金型で利用することができ、必要なタイミングで立ち上げ、不用になったタイミングでサービスを停止し、削除することで、そのタイミングで課金は停止する。　　
繁忙期など必要なタイミングでITリソースの増強も可能かつ、実験的なサービスの検証などはスモールスタートが可能なため、撤退コストの最小化を実現できる。　　
利用料及び時間（秒または時間単位）で課金される　　
* 透明性の高い価格
提供価格はAWSウェブサイトで確認することができる
### 継続的な値下げ
* 利用中にコストが低下するITリソース/継続的な値下げによるユーザーへの還元
**AWSは2006~2023.3月までに129回以上の値下げを行っている**　　
これは日々起きている技術革新によるITコストの低下に伴ったものである
### サイジングからの解放
従来、自前でシステムを準備する場合は、常にユーザー数の成長を予測し、その予測を上回るITリソースを確保している必要があった　　
AWSでは必要な時に、必要な分だけITリソースの増減を数回のクリックで変更することができるため、利用されていないリソースの維持コストが発生することがない。また、キャンペーンやメディア連動などによる突発的なピークにおいても、あらかじめ定められた閾値を超えた場合、自動でサーバーリソースを増強することも可能。　　
→**これによりビジネス機会の損失を防ぐことができる**
### 商機を逃さない俊敏性
オンプレミスでのITリソースの導入は、高額な初期費用、緻密な計画が必要だった。またサーバー発注後も納品まで時間がかかったり、取り付け作業、ネットワーク設定など様々な時間と労力を必要とした　　
AWSでは、管理者画面やAPI経由の操作により、初期費用無し、わずか数軍でITリソースの用意が可能となる。これにより**ビジネスチャンスを逃すことのない、タイムリーなシステム構築を実現する**
### 再戦隊の技術をいつでも利用可能
現在AWSでは200を超えるサービスを提供しており、その90％以上のサービス、機能はユーザーからのリクエストをもとに実装されている　　
サービスの種類が豊富であればユーザーは多くのコンポーネントをAWSのみで構築することが可能になる。それは結果的にビジネスのスピードアップに繋がり、その分ビジネスロジックの強化に時間を使うことができる　　
### いつでも即時にグローバル展開
AWS はリージョンと呼ばれるサービス拠点をグローバルに展開し、 アベイラビリティーゾーン (AZ) という複数のデータセンター群で構成される。リージョンを構成する AZ はさらに1個以上の複数のデータセンターで構成されている　　
このため、単一リージョン内でデータセンターを分散した高可用な冗長システムを構築することができる。アカウントを開設した時点で、世界中のデータセンターにシステムが展開可能。海外へのシステム展開は現地視察や現地データセンターとの契約など時間のかかる作業だったがAWSなら数分で作業が完了できる
### 開発速度の向上と属人性の排除
[マイクロサービスアーキテクチャ](https://knowledge.sakura.ad.jp/20167/)では、システムはAPiを経由してのみ連携する。詳細はリンクを参照　　
マイクロサービスアーキテクチャはAWSの設計思想にも採用され、APIを通じて各サービスは連携している。　　
AWSでは年間3,000回を超えるバージョンアップや機能改修を行っているが、デグレートによる障害はほぼ発生していない。　　
システムを疎結合状態に保つことで、システムが巨大に成長しても管理しやすいモデルを実現している。
### マネージド型サービスによる運用不可の軽減
* サーバーレス、マネージド型サービスぶよる生産性の向上
マイクロサービスアーキテクチャを導入し、アプリケーションの柔軟性、俊敏性、拡張性を手に入れた場合、次に課題となるのはITインフラの管理コストになる。高い生産性と開発されるサービスへの責任感が最大化されることを考えた場合、開発チームは垂直統合型にそのサービスすべてに責任を持つことが望ましい形態となりDevOpsという概念が生まれています。これはクラウドを活用したインフラの管理も含みます。  
[devopsわからない1](https://wa3.i-3-i.info/word15387.html)
[devopsわからない2](https://udemy.benesse.co.jp/development/system/devops.html)
* マネージド型サービスによるコストの効率化
仮想化されたコンピューティング、例えば AWS Lambda の利用はあらかじめCPU、メモリ、ストレージなどを指定して起動します。規模の経済、技術的イノベーションがもたらすコスト低下、自動的にコンピューティングリソースを増減可能なオートスケールやリソースそのものを増減可能なスケールアウト、スケールイン機能により高いコスト効率で利用いただくことが可能ですが、まだ削減可能な項目が存在します。CPU、メモリ、ストレージなどを常に 100%利用することが困難であることから、余剰リソースが生まれます。一方、マネージド型サービスの利用、例えば Amazon Simple Storage Service (Amazon S3) というストレージを利用すると、実際に保存されているデータ量に対してのみ課金が行われているため、さらに高いコスト効率の実現が可能となります。
### 高いセキュリティを確保
AWS は 2006 年のサービス開始時からクラウドコンピューティングの先駆者として、セキュリティを最優先事項としてお客様のイノベーションに迅速に対応可能なクラウドインフラストラクチャーを提供してきました。 AWS では、セキュリティ機能の実装や厳格なコンプライアンス要件に対応し、さらに第三者機関による検証が行われています。
ただし、セキュリティとコンプライアンスは AWS とお客様の間で共有される責任です。サービスによって異なりますが、 AWS がクラウド環境自体の責任を、お客様にはクラウド内のセキュリティに対する責任と管理を担っていただきます。この共有モデルは、AWS がホストオペレーティングシステムの仮想化レイヤーからサービスが運用されている施設の物理的なセキュリティに至るまでの要素を AWS が運用、管理、および制御することから、お客様の運用上の負担の軽減に役立ちます。
### 24時間日本語によるサポート
AWS サポートでは、ツールやテクノロジー、そしてプログラムなどを組み合わせて、お客様がパフォーマンス最適化、コスト削減、イノベーションの推進をする際のサポートを提供しています。このサービスでは、お客様のクラウドにおける事業の迅速化を支援することで、お客様の時間を削減しコアビジネスに集中できるようにします。

## AWSができること（代表的なもの）
* サーバー環境の構築・Webサイトの運用(EC2)
サーバー環境の構築に有効なサービスが`Amazon Elastic Compute Cloud(EC2)`　　
これは必要に応じてスペックを変更できる仮想サーバーを作成し利用できるサービス　　
最初に仮装サーバーをAWSで構築するのにかかる時間はわずか数分。シンプルで使いやすいインターフェースで手間をかけずに必要な機能を取得し設定できるだけでなく、仮装サーバーを複数作成して冗長化したり、ハードディスクやメモリなどのスペックを変更したりする作業も画面上の簡単な操作だけで行える。EC2は仮想ネットワークの環境も用意されており、冗長化に際してネットワークを意識する必要がない。　　
安全でサイズ変更可能なコンピューティング性能をクラウドないで提供するウェブサービスとして開発者が簡単に利用できるように設計されている。　　
`仮想サーバー`：物理的なハードウェア上で動作するのではなく、ソフトウェアを使って作成されるサーバーのこと。1つの物理サーバー上で複数の仮想サーバーを動かすことができる。　　
`仮想ネットワーク`：物理的なネットワークハードウェア（ルーター、スイッチなど）を使わずにソフトウェアを使ってネットワーク環境を作ること。これにより複数の仮想サーバー間でデータをやり取りするネットワークを設定できる。　　
`冗長化`：システムの一部が故障しても全体が正常に動作し続けるように、複数の同じ機能を持つシステムを用意しておくこと　　

`仮想ネットワーク`についてピンとこなかったのでchatGPTに聞いてみた
```shell
仮想ネットワークについての理解を深めるために、以下の説明を参考にしてください。

### 仮想ネットワークの具体的なイメージ

仮想ネットワーク（Virtual Network）は、物理的なネットワークハードウェアを使わずに、ソフトウェアを使ってネットワーク環境を作ることです。AWSでは、この仮想ネットワークの設定や管理ができます。具体的なイメージを持つために、以下の要素を考えてみましょう：

1. **仮想デバイス**：
   * 物理的なサーバーやコンピュータの代わりに、仮想サーバー（EC2インスタンス）を使用します。
   * これらの仮想サーバーは、実際のハードウェアに依存せず、ソフトウェア上で動作します。

2. **仮想ルーター**：
   * 物理的なルーターのように、仮想ネットワーク内でデータを転送する役割を果たします。
   * AWSでは、仮想ルーターの役割を持つものとして、インターネットゲートウェイやNATゲートウェイがあります。

3. **仮想スイッチ（スイッチハブ）**：
   * 物理的なスイッチハブのように、同じネットワーク内のデバイス間でデータをやり取りする役割を果たします。
   * AWSでは、サブネット（VPC内の一部のネットワークセグメント）がこの役割を果たします。

4. **WiFiのような機能**：
   * 実際のWiFiのように、デバイスがネットワークに接続するためのアクセス方法を提供します。
   * ただし、AWSの仮想ネットワークでは、WiFiではなく、ネットワークインターフェースを通じて仮想サーバーを接続します。

5. **固有の名称やパスワード設定**：
   * 仮想ネットワーク（VPC）やサブネットには固有の名前をつけることができます。
   * ネットワーク内でセキュリティを強化するために、セキュリティグループやネットワークACL（アクセス制御リスト）を設定して、仮想サーバーへのアクセスを制御します。これにより、固有のセキュリティ設定を仮想空間内で管理できます。

### 具体的な例

AWSでは、仮想ネットワークを設定するために以下のような手順があります：

1. **VPCの作成**：
   * 自分専用の仮想ネットワークを作成します。これにより、他のユーザーと分離された独自のネットワーク環境が作れます。

2. **サブネットの作成**：
   * VPC内にいくつかのサブネットを作成し、それぞれに仮想サーバー（EC2インスタンス）を配置します。

3. **インターネットゲートウェイの設定**：
   * VPCにインターネットゲートウェイをアタッチすることで、仮想サーバーがインターネットにアクセスできるようにします。

4. **セキュリティグループの設定**：
   * 仮想サーバーへのアクセスを制御するために、セキュリティグループを設定し、許可するIPアドレスやポートを指定します。

これらの設定を通じて、仮想空間内でネットワーク環境を構築し、物理的なネットワークデバイスを使わずに、同様の機能を実現することができます。

もし具体的な設定例や手順についてさらに知りたい場合は、ぜひ質問してください。
```


* データ保存・コンテンツ配信(S3)
データの保存や加工、コンテンツ配信ができるのが、`Amazon Simple Storage Servis(S3)`  
`S3`はオブジェクトストレージサービスで高スケーラリビティだけでなく、データ可用性、セキュリティ、及びパフォーマンスのどれをとっても高レベルの機能を有しています　　
ウェブサイト、モバイルアプリケーション、バックアップ、アーカイブ、エンタープライズアプリケーションといったあらゆる形態が可能なだけでなく、Iotデバイスの利用やビッグデータ分析などでも活用可能。データの種類問わず、どれだけの容量でも問題なく保存・保護します。管理機能も使いやすく、高い耐久性を実現するような設計されていることも大きなメリットです。
`オブジェクトストレージサービス`：オブジェクトストレージはデータを「オブジェクト」として保存する方法。オブジェクトはデータ自体と、そのデータに関するメタデータを含みます。ファイルシステムやブロックストレージとは異なり、データを階層構造ではなく、フラットな構造で保存する(例：写真やビデオ、ログファイルなどの大量のデータを効率よく保存するのに適している)
`スケーラビリティ(Scalabolity)`：システムやサービスが負荷に高じて拡張できる能力のこと。データ量が増えても簡単に容量を増やすことができ、パフォーマンスが維持される
`データ可用性`：データが常に利用可能であることを保証すること。高い可用性を持つシステムは障害が発生してもデータにアクセスできる状態を保ちます。
`エンタープライズアプリケーション`：企業や大規模組織が使用するアプリケーションソフトウェアのこと。

* データベースとしての活用(RDS)
`Amazon RDS`はプロジェクトの計画からデプロイまでの手順が簡略化されているため、管理の負担も少ない。`Amazon RDSマネジメントコンソール`, `AWS RDSコマンドラインインターフェース`シンプルなAPIコールといった機能やツールを使用することで、本稼働に対応したRDBの機能に数分でアクセスが可能になっているため。　　
ハードウェアのプロビジョニング、データベースのセットアップ、パッチ適用、バックアップなどの管理タスクも自動化されている。`Amazon RDS`のデータベースエンジンは`Amazon Aurora`,`PostgreSQL`, `MySQL`, `MairiaDB`, `Oracleデータベース`, SQL Serverから使い慣れたものを選択することができるので、これまで使用していたデータベースを変更すると行ったストレスを感じることがないし、余計なシステム変更も不要。

`プロビジョニング`：必要なリソース（例えば、サーバーやストレージなど）を準備・設定して、使用可能な状態にすることを指す。これにはハードウェアの準備、ソフトウェアのインストール、ネットワーク設定などが含まれる。（例：Amazon RDSでは、必要なデータベースのスペックを選んで数分で設定・準備が完了し、すぐに使い始めることができる）
`パッチ適用`：ソフトウェアのバグ修正やセキュリティホールの修正のために、プログラムの一部を更新することを指す。これにより、システムの安全性や性能が向上する。（例：Amazon RDSでは、データベースソフトウェアのパッチ適用が自動で行われるため、ユーザーはセキュリティのリスクを心配する必要がない。）