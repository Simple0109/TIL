# Rails 基礎技術
### MVCとはなにか
Model、Controller、Viewの頭文字をとったデザインパターン
Modelがデータの取り扱い
Viewがデータの描画
ControllerがModelとViewのデータの受け渡しを行う
それぞれ責務を分けることで保守性と拡張性が向上する

### ORMとはなにか
Railsなどで使われているORM（Object-Relational-Mapping）機能
通常データベースはテーブル形式でデータを扱い、Railsなどのプログラムはオブジェクトを使用してデータを扱う
ORMとはデータベースのデータをプログラムの言語で扱えるようにするもの
通常データベースはSQLを用いてデータベースを操作するが、ORMを使用することで、SQLではなくそのプログラミング言語で
データベースの操作を行うことができる。

### ActiveRecordとはなにか
Railsで用いられるORM
データベースのテーブルとアプリケーションのモデルを紐づけ、データの取得、更新、削除が行えるようになる。

### Gemfileとはなにか
Railsで用いるパッケージであるGemを一元管理するためのファイル
Gemfileに使用するgemを記述することで、他のgemとの依存関係を解決する
具体的なgemのバージョンなどについてはGemfile.lockに記載される

### N+1問題とはなにか
ループ処理を行う際に、関連するデータを同時に保持していないがために、余計にSQLが発行されてしまいパフォーマンスが落ちる問題
`includes`メソッドなどを使って、ループ処理を行う対象に、関連するデータもまとめて保持することでN+1問題を防げる

### SQLインジェクションとはなにか
Webアプリケーションの脆弱性を利用して、断片的なSQL文をアプリケーションに不正に注入（インジェクション）し実行させる攻撃手段

### Strong Parametersとはなにか
複数のフォームから送られてくるデータを1つのデータとして扱うことができるマスアサインメントというRailsの機能を利用する際に発生する
SQLインジェクションを防ぐ機能。
複数送られてくるデータのうち、受け取るデータを指定することができ、これにより不正なデータアクセスなどを防ぐことができる

↓

SQLインジェクションではなく、マスアサインメントの脆弱性を防ぐための機能。
**マスアサインメント**
HTTPリクエストを通じてクライアントから渡されたパラメーターの値をプログラム内の変数やオブジェクトの属性に自動的に割り当てる機能
`User.new(name: "ishikawa", email: "ishikawa@example.com")`
悪意のあるユーザーが想定していないパラメーターに存在する`role`に対して`role: admin`のように
クエリパラメーターを送信できることが**マスアサインメント脆弱性**
StringParameterを使用することでクライアントから送信されるパラメーターのうち、データ取得を許容するパラメーターを指定するもの
これによりマスアサインメント脆弱性などの不正なデータアクセスを防ぐことができる

### クラスメソッドとインスタンスメソッドの違い
クラスオブジェクトで使用するのがクラスメソッド。クラスメソッドから生成されるインスタンスオブジェクトで使用するがインスタンスメソッド。
クラスオブジェクトがインスタンス・メソッドを利用することはできないし、インスタンスオブジェクトがクラスメソッドを使用することもできない

### コールバックとはなにか
データを保存、更新、削除するタイミングで行われる処理の総称

### credentialsとはなにか
Railsアプリケーションで使用する機密情報や設定情報を安全に管理するための仕組み
主にAPIキー、シークレットキー、パスワードなどを格納するために使われる
これらの情報は暗号化され`config/credentials.yml.enc`に保存される（encとはencryptedの略。暗号化された。）
暗号化された内容は`config/master.key`で復号することができる
マスターキーは環境変数などで管理される

### concernとはなにか
modelsディレクトリやcontrollersディレクトリ配下に置くことができるモジュールの総称
それぞれ共通化できるロジックを記述したファイルを配置する

### サービスオブジェクトとはなにか
fat_controllerやfat_modelを防ぐために複雑なロジックを分けて記述するデザインパターン

### フォームオブジェクトとはなにか
わかりません

↓

複数のモデルにまたがるデータを扱うフォームや、モデルが存在しないフォームデータを扱うためのパターン
モデル間の関連が複雑な場合や、特別なバリデーションロジックが必要なときにときに使用され、ビジネスロジックをモデルから分離するときも使用する

### WebAPIとはなにか
Application Programming Interfaceの頭文字をとったもの
Web上のアプリケーション間やWeb上、ローカル上のアプリケーションを接続しデータのやり取りを行うこと

### SSLとはなにか
Secure Socket Layerの頭文字をとったもの
クライアントサイドからサーバーサイドへ送信するデータを暗号化するための仕組み
現在はSSLの脆弱性を改善したTLS（Transport Layer Security）が使われている

### Railsのマイグレーションとはなにか
データベースのスキーマ情報を時系列順に更新することが可能な仕組み

### Turboとはなにか
HotWireの一部でRailsで用いられるjavascriptライブラリの1つ
Turboを使用することでSPAのような体験を提供することができユーザー体験の向上につながる
具体的にはページを再読み込みする際に、ページ全体を読み込むのではなく、ページを部分的に更新することができる

### Stimulusとはなにか
HotWireの一部でRailsで用いられるjavascriptライブラリの1つ
stimulusを用いることでRailsの規約に則りながら、簡単にjavascriptの記述を行うことができる

### ActiveStorageとはなにか
アップロードされた画像や動画をActiveRecordにアタッチすることができ、またその画像、動画自体を外部ストレージサービスに保管することができる仕組み

### ActiveJobとはなにか
Railsで定期的、時限式に処理を発火させることのできる仕組み
わからん

↓

Railsのバックグランドジョブ処理の統一インターフェースであり
様々なキューイングバックエンドで実行可能なジョブを宣言するためのフレームワーク
メール送信、画像処理、APIリクエストなど時間のかかる処理を非同期で行うためのフレームワーム


### テストの重要性と、Railsのテストについて説明せよ
テストを記述することでバグの早期発見につながる。また問題の特定もしやすくなる。
RailsデフォルトではMiniTest, より汎用性が高いものだとRSpecやFaker, Factory_botを用いてテストを書くことがある

↓

単体テスト：モデル個別のテスト
機能テスト：コントローラーのテスト
統合テスト：複数のコンポーネントを用いたテスト
システムテスト：ブラウザを通したエンドツーエンドのテスト

### バリデーションとはなにか
データベースに情報が保存される前に、モデル層でその情報をデータベースに保存していいのか検証するもの
Modelファイルで`validates`を記述し`presence,length, uniqueness`などを指定して検証する

### ハッシュ化された値がデータベースに保存されるが、どうやって一致したのか判定ロジックについて説明しなさい
フォームから送信されたパスワードをサーバーサイドでハッシュ化し、データベースに保存されているハッシュと完全一致した場合、結果がtrueになり判定が成功する

↓

フォームから送信されたパスワードをデータベースに保存されているハッシュと同じ方法でハッシュ化
生成されたハッシュとデータベースに保存されているハッシュを比較
一致した場合trueになる

