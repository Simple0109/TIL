# EBS
`Elastic Block Storage`の略 
EC2インスタンスにアタッチして使用するブロックストレージ   
※ブロックストレージ：記憶領域をボリュームという単位に分け、ボリュームをさらにブロックという単位に分けてデータを保存するストレージ   
## EBSの特徴
* ボリュームの変更
追加のボリュームが必要になった場合、いつでも追加することができるし、不要なボリュームが発生した場合はいつでも削除することができる  
確保している容量に応じて課金される  
* AZ間でレプリケート
同じAZの複数サーバー間で**自動的にレプリケーションされる**  
これによって高い(99.999%)**可用性を提供**している   
※可用性：システムが停止することなく稼働し続けられる性能   
* ボリュームタイプが変更可能
提供されるボリュームタイプは以下の4つ
1. 汎用SSD(gp2, gp3)
gp2では**IOPS**がボリュームサイズで決定されており変更することができないが、gp3では**IOPS**の設定を行うことができる  
※IOPS:1秒あたりにディスが処理することのできるI/Oアクセス数のこと    
2. プロビジョンドIOPS SSD(io2)
高いIOPS(16000)を選択したい場合に選択する。プロビジョンドIOPS SSDで指定することのできるIOPSの最大値は64000    
3. スループット最適化HDD
SSDほどの性能を必要とせず、コストを節約したい場合選択する。   
4. Cold HDD
スループット最適化HDDよりもアクセス数が少ない場合選択する。   
スループット最適化HDDとCold HDDはルートボリュームとしては選択することができず、追加のボリュームとして使用することができる   
* 高い耐久性のスナップショット
AZでレプリケートされているが、AZ全体で障害が起きてしまった場合、EBSも使用できなくなる可能性がある  
差分のみを保存し容量を抑えることのできる**スナップショット**と呼ばれるデータのバックアップを**S3**にバックアップとして保存することができるため高い耐久性が実現されている  
* ボリュームの暗号化
EBSは設定することで**自動で暗号化**されセキュリティを強化することができる   
暗号化されたボリュームのスナップショットも、自動的に行われる  
なお暗号化はKMS(Key Management Service)を使用しており、暗号化キーの管理はKMSで行う  
* 永続的なストレージ
EBSはEC2インスタンスと異なるハードウェアで管理されているため、インスタンスを停止し、再度開始した場合でもEBSに保存したデータは残っているため 
インスタンスの状態に関わらず永続的にデータが保存されている  

# S3
`Simple Storage Service`の略  
オブジェクトストレージの1つ。リージョンに設置される
※オブジェクトストレージ：**オブジェクト**を最小の単位として取り扱い、**オブジェクト**はそれぞでユニークなIDが付与され、データの属性情報（メタデータ）と一緒に管理される 
## S3の特徴
* 無制限のストレージ容量
**バゲット**というデータの入れ物さえ作れば、すぐにデータを保存し始めることができ、またその容量は無制限(保存する1つのファイルサイズの制限は5TBまで)
* 高い耐久性・可用性
保存されたオブジェクトは1つのリージョン内の複数のAZに自動的に複製される 
これによち1つのAZで障害が発生した場合でも、すぐにオブジェクトをより出すことができるため、高い耐久性と可用性を備えている 
* インターネット経由のアクセス
S3はインターネット経由で世界中のどこからでもアクセスすることができる  

## セキュリティ
S3バケットは作成したアカウントから許可されたユーザーやリソースからのアクセスのみを受け付けるため、必要に応じてアクセス権限を付与する必要がある
### アクセス権限の付与
**IAMユーザー**や**IAMロール(EC2, lambda関数など)**にIAMポリシーをアタッチすることで権限を許可したり、制限することができる 
### ブロックパブリックアクセス
デフォルトでアクセス制限をしている機能
### 通信、保存データを暗号化
S3に保存するデータの暗号化には3つの書類がある   
1. S3のキーを使用したサーバーサイド暗号化(デフォルト)
2. KMSを使用したサーバーサイド、もしくはクライアントサイド暗号化
3. ユーザー独自のキーを使用したサーバーサイド、もしくはクライアントサイド暗号化
## Macie
S3に保存されているデータを自動的にスキャンし、機密情報や個人情報を特定し、分類するセキュリティサービス  
